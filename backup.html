<!DOCTYPE html>
<html>
   <head>
      <title>VBZ_Verkehrsfluss</title>
      <link rel = "stylesheet" href = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css"/>
      <script src = "http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
      <script src='https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js'></script>
      <link href='https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css' rel='stylesheet' />

      <link rel="stylesheet" type="text/css" href="styles/styles-vbz.css">



      <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
      <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>



      <script src='data/haltestellen.js' type="text/javascript"></script>
      <script src='data/h_0.js' type="text/javascript"></script>
      <script src='data/h_1.js' type="text/javascript"></script>
      <script src='data/h_4.js' type="text/javascript"></script>
      <script src='data/h_5.js' type="text/javascript"></script>
      <script src='data/h_6.js' type="text/javascript"></script>
      <script src='data/h_7.js' type="text/javascript"></script>
      <script src='data/h_8.js' type="text/javascript"></script>
      <script src='data/h_9.js' type="text/javascript"></script>
      <script src='data/h_10.js' type="text/javascript"></script>
      <script src='data/h_11.js' type="text/javascript"></script>
      <script src='data/h_12.js' type="text/javascript"></script>
      <script src='data/h_13.js' type="text/javascript"></script>
      <script src='data/h_14.js' type="text/javascript"></script>
      <script src='data/h_15.js' type="text/javascript"></script>
      <script src='data/h_16.js' type="text/javascript"></script>
      <script src='data/h_17.js' type="text/javascript"></script>
      <script src='data/h_18.js' type="text/javascript"></script>
      <script src='data/h_19.js' type="text/javascript"></script>
      <script src='data/h_20.js' type="text/javascript"></script>
      <script src='data/h_21.js' type="text/javascript"></script>
      <script src='data/h_22.js' type="text/javascript"></script>
      <script src='data/h_23.js' type="text/javascript"></script>



   </head>


   <body>

      <!--- BANNER-->

     <div class="banner">
       <div class="bannertext">
         <h1>Verkehrsfl√ºsse VBZ</h1>
       </div>
     </div>

     <!--- BUTTONS-->

     <script>
     function onEachFeature(feature, layer) {
         // does this feature have a property named popupContent?
         if (feature.properties && feature.properties.Besetzung_Mean) {
             layer.bindPopup(feature.properties.Besetzung_Mean);
         }
     }
     </script>



<div class="box">
     <button type="button" onclick = 'haltestellen.addTo(map);'>Stops</button>






<button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_1.addTo(map); '>1h</button>

<button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_4.addTo(map);'>4h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_5.addTo(map);'>5h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_6.addTo(map);'>6h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_7.addTo(map);'>7h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_8.addTo(map);'>8h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_9.addTo(map);'>9h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_10.addTo(map);'>10h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_11.addTo(map);'>11h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_12.addTo(map);'>12h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_13.addTo(map);'>13h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_14.addTo(map);'>14h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_15.addTo(map);'>15h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_16.addTo(map);'>16h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_17.addTo(map);'>17h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_18.addTo(map);'>18h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_19.addTo(map);'>19h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_20.addTo(map);'>20h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_21.addTo(map);'>21h</button>
     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_22.addTo(map);'>22h</button>


     <button type="button" onclick = 'map.eachLayer(function(layer) {
  if (!!layer.toGeoJSON) {
    map.removeLayer(layer);
  }
}); h_23.addTo(map);'>23h</button>

<img src="images/legende.png" alt="Legende" height="60">
   </div>



      <div id = "mapdiv" style = "width: 100%; height: 580px"></div>
      <script>


         var mapOptions = {
            zoom: 13,
            center: [47.377126, 8.539971],
            maxBounds: L.latLngBounds([47.307925, 8.402250], [47.465908, 8.661211]),
            minZoom: 11,
            maxZoom: 16
         }

         // Create map object

         <div id='map' style='width: 400px; height: 300px;'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoiYm91bnRhbiIsImEiOiJpSXVpaU1BIn0.pzuLQeLdLb3bRoYeQNc9jA';
var map = new mapboxgl.Map({
container: 'mapdiv',
style: 'mapbox://styles/bountan/cjv50ji2u02u61fqsyujklffl', // stylesheet location
center: [-74.5, 40], // starting position [lng, lat]
zoom: 9 // starting zoom
});
</script>


/*
L.mapbox.accessToken = 'pk.eyJ1IjoiYm91bnRhbiIsImEiOiJpSXVpaU1BIn0.pzuLQeLdLb3bRoYeQNc9jA';
var map = L.map('mapdiv', mapOptions);


L.mapbox.styleLayer('mapbox://styles/bountan/cjv50ji2u02u61fqsyujklffl').addTo(map);


*/
         /*
         var map = new L.map('mapdiv', mapOptions);

         // Basiskarte aus Mapbox
         L.mapbox.accessToken = 'pk.eyJ1IjoiYm91bnRhbiIsImEiOiJjanYzb2lzNTUwa3l3NDNvN2lxeWRiNnE1In0.AI9SS0aeMHUQFDAbuKM5EQ';
         map.addLayer(L.mapbox.styleLayer('mapbox://styles/bountan/cjv50ji2u02u61fqsyujklffl'));


         var scale = L.control.scale();
         scale.addTo(map);


*/


      function getColor(d) {
    	return d > 0.8 ? '#d63e4f' :
    	       d > 0.6 ? '#faac5f' :
    	       d > 0.2 ? '#e1e85d' :
    	       d > 0.1 ? '#68c4a7' :
             '#328abf';
    }

  function getWidth(d) {
    return d > 2000 ? 12 :
           d > 1000 ?  9 :
           d > 500 ? 5 :
           d > 150 ? 3 :
           d > 15 ? 1 :
           0.5;
  }

  function style(feature) {
	return {
		color: getColor(feature.properties.Auslastung_Mean),
    weight: getWidth(feature.properties.Besetzung_Max),
		opacity: 1,
	};
}
var vbzjson = L.geoJson(vbzjson, {style: style});
var h_0 = L.geoJson(h_0, {style: style});
var h_1 = L.geoJson(h_1, {style: style});
var h_4 = L.geoJson(h_4, {style: style});
var h_5 = L.geoJson(h_5, {style: style});
var h_6 = L.geoJson(h_6, {style: style});
var h_7 = L.geoJson(h_7, {style: style});
var h_8 = L.geoJson(h_8, {style: style});
var h_9 = L.geoJson(h_9, {style: style });
var h_10 = L.geoJson(h_10, {style: style});
var h_11 = L.geoJson(h_11, {style: style});
var h_12 = L.geoJson(h_12, {style: style});
var h_13 = L.geoJson(h_13, {style: style});
var h_14 = L.geoJson(h_14, {style: style});
var h_15 = L.geoJson(h_15, {style: style});
var h_16 = L.geoJson(h_16, {style: style});
var h_17 = L.geoJson(h_17, {style: style});
var h_18 = L.geoJson(h_18, {style: style});
var h_19 = L.geoJson(h_19, {style: style});
var h_20 = L.geoJson(h_20, {style: style});
var h_21 = L.geoJson(h_21, {style: style});
var h_22 = L.geoJson(h_22, {style: style});
var h_23 = L.geoJson(h_23, {style: style, onEachFeature: function (feature, layer) {
  layer.bindPopup(feature.properties.Besetzung_Mean);
}});

var haltestellen = L.geoJson(haltestellen, {
  onEachFeature: function (feature, layer) {
    layer.bindPopup(feature.properties.hst_lang);
  }}
);




      </script>
   </body>

</html>
